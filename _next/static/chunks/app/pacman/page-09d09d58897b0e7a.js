(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{1226:()=>{},6585:(t,e,n)=>{Promise.resolve().then(n.bind(n,2316))},2316:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>A});var i=n(5155),r=n(2115),s=n(1996),a=n.n(s);function o(){return{stepTime:Date.now(),player:{position:[12.5,6],direction:0,nextDirection:0},lost:!1,monsters:[{id:"monster-red",name:"bio",direction:1,startingDirection:1,position:[12.5,15],startingPosition:[12.5,15],dead:!1,eatingTime:0,color:"red"},{id:"monster-cyan",name:"music",direction:0,startingDirection:0,position:[10.5,15],startingPosition:[10.5,15],dead:!1,eatingTime:0,color:"cyan",directionBias:!0},{id:"monster-orange",name:"projects",direction:2,startingDirection:2,position:[14.5,15],startingPosition:[14.5,15],dead:!1,eatingTime:0,color:"darkorange"},{id:"monster-pink",name:"experience",direction:1,startingDirection:1,position:[12.5,17],startingPosition:[12.5,17],dead:!1,eatingTime:0,color:"pink",directionBias:!0}],food:function(){let t=(t,e,n)=>Array(n).fill(0).map((n,i)=>[t+i,e]),e=(t,e)=>t.map(t=>[t,e]),n=(e,n)=>e.reduce((e,i)=>{let[r,s]=i;return[...e,...t(r,n,s)]},[]),i=(t,e,n)=>Array(n).fill(0).map((n,i)=>[t,e+i]);return[...t(0,0,26),...e([0,11,14,25],1),...e([0,11,14,25],2),...n([[0,6],[8,4],[14,4],[20,6]],3),...e([2,5,8,17,20,23],4),...e([2,5,8,17,20,23],5),...n([[0,3],[5,7],[14,7],[23,3]],6),...e([0,5,11,14,20,25],7),...e([0,5,11,14,20,25],8),...n([[0,12],[14,12]],9),...i(5,10,11),...i(20,10,11),...n([[0,6],[8,4],[14,4],[20,6]],21),...e([0,5,8,17,20,25],22),...e([0,5,8,17,20,25],23),...t(0,24,26),...e([0,5,11,14,20,25],25),...e([0,5,11,14,20,25],26),...e([0,5,11,14,20,25],27),...n([[0,12],[14,12]],28)].map((t,e)=>({key:e,position:t,eaten:!1,big:function(t){let[e,n]=t;return(0===e||25===e)&&(6===n||26===n)}(t)}))}()}}let c=[[[[0,25]],[[0,0],[11,11],[14,14],[25,25]],[[0,0],[11,11],[14,14],[25,25]],[[0,5],[8,11],[14,17],[20,25]],[[2,2],[5,5],[8,8],[17,17],[20,20],[23,23]],[[2,2],[5,5],[8,8],[17,17],[20,20],[23,23]],[[0,2],[5,20],[23,25]],[[0,0],[5,5],[11,11],[14,14],[20,20],[25,25]],[[0,0],[5,5],[11,11],[14,14],[20,20],[25,25]],[[0,11],[14,25]],[[5,5],[8,8],[17,17],[20,20]],[[5,5],[8,8],[17,17],[20,20]],[[5,5],[8,17],[20,20]],[[5,5],[8,8],[17,17],[20,20]],[[5,5],[8,8],[17,17],[20,20]],[[-1,8,!0],[17,26,!0]],[[5,5],[8,8],[17,17],[20,20]],[[5,5],[8,8],[17,17],[20,20]],[[5,5],[8,17],[20,20]],[[5,5],[11,11],[14,14],[20,20]],[[5,5],[11,11],[14,14],[20,20]],[[0,5],[8,11],[14,17],[20,25]],[[0,0],[5,5],[8,8],[17,17],[20,20],[25,25]],[[0,0],[5,5],[8,8],[17,17],[20,20],[25,25]],[[0,25]],[[0,0],[5,5],[11,11],[14,14],[20,20],[25,25]],[[0,0],[5,5],[11,11],[14,14],[20,20],[25,25]],[[0,0],[5,5],[11,11],[14,14],[20,20],[25,25]],[[0,11],[14,25]]],[[[0,3],[6,9],[15,15],[21,28]],[[0,0],[3,3],[6,6],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,6],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,3],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,3],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,28]],[[0,0],[6,6],[9,9],[15,15],[24,24],[28,28]],[[0,0],[6,6],[9,9],[15,15],[24,24],[28,28]],[[0,0],[3,6],[9,18],[21,24],[28,28]],[[0,0],[3,3],[6,6],[9,9],[12,12],[18,18],[21,21],[24,24],[28,28]],[[0,0],[3,3],[6,6],[9,9],[12,12],[18,18],[21,21],[24,24],[28,28]],[[0,3],[6,9],[12,12],[18,21],[24,28]],[[0,0],[6,6],[12,12],[18,18],[24,24]],[[0,0],[6,6],[12,12],[18,18],[24,24]],[[0,3],[6,9],[12,12],[18,21],[24,28]],[[0,0],[3,3],[6,6],[9,9],[12,12],[18,18],[21,21],[24,24],[28,28]],[[0,0],[3,3],[6,6],[9,9],[12,12],[18,18],[21,21],[24,24],[28,28]],[[0,0],[3,6],[9,18],[21,24],[28,28]],[[0,0],[6,6],[9,9],[15,15],[24,24],[28,28]],[[0,0],[6,6],[9,9],[15,15],[24,24],[28,28]],[[0,0],[3,28]],[[0,0],[3,3],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,3],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,6],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,3],[6,6],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,3],[6,9],[15,15],[21,28]]]];function l(t,e){return Math.abs(t[0]-e[0])+Math.abs(t[1]-e[1])}function d(t){let e=(t<2)>>0;return{order:e,polarity:(-1)**(1-e),plane:t%2}}function u(t,e,n,i){let r=!(arguments.length>4)||void 0===arguments[4]||arguments[4],{order:s,plane:a,polarity:o}=d(e),l=t.slice(),u=o*n*i,p=Math.abs(u),h=Math.round(l[1-a]);r&&(l[1-a]=h),l[a]+=u;let m=c[a][h],g=m.findIndex(e=>t[a]>=e[0]&&t[a]<=e[1]&&o*l[a]>o*e[s]),f=!1;return g===(m.length-1)*s&&m[g][2]?(l[a]=m[(m.length-1)*(1-s)][1-s],p=n*i):g>-1&&(l[a]=m[g][s],p=Math.abs(t[a]-m[g][s]),f=!0),{newPosition:l,collision:f,movedDistance:p}}function p(t,e,n,i){let r=e?Math.ceil(n[t]):Math.floor(n[t]);return Math.abs(r-n[t])>i?-1:r}n(5521),n(6688);let h=(t,e)=>(t%e+e)%e;function m(t){let{gridSize:e,start:n,parts:r,...s}=t,a=function(t,e){let[n,i]=t;return[n*e,(34-i)*e]}(n,e),o=r.map(t=>{let{radius:n}=t;return e/(n||3)}),{path:c}=r.map(t=>{let{distance:n,...i}=t;return{distance:n*e,...i}}).reduce((t,e,n)=>{let{path:i,lastDirection:s,lastRadius:a}=t,{distance:c,direction:l}=e;return{path:function(t){var e,n;let{radiusA:i,radiusB:r,path:s,lastDirection:a,distance:o,direction:c,index:l,end:d}=t,u=c%2,p=1-u,m=(-1)**((c<2)>>0),g=(-1)**u,f=["h","v"][u];if(0===l){let t="".concat(f).concat((r-o)*m*g);return"".concat(s," ").concat(t)}let x="".concat(f).concat((i+r*(!d>>0)-o)*m*g),j=(1===h(a-c,4))>>0,b=(e=i*((-1)**((2===a)>>0)*u-m*p),n=i*((-1)**((1===a)>>0)*p+m*u),"a".concat(i,",").concat(i," 0 0 ").concat(j>>0," ").concat(e,",").concat(n));return"".concat(s," ").concat(b," ").concat(x)}({radiusA:a,radiusB:o[n],path:i,lastDirection:s,distance:c,direction:l,index:n,end:n===r.length-1}),lastDirection:l,lastRadius:o[n]}},{path:"M".concat(a.join(","))}),l={strokeWidth:s.strokeWidth,stroke:s.stroke,fill:s.fill};return(0,i.jsx)("path",{d:c,...l})}m.propTypes={strokeWidth:a().number,stroke:a().string,fill:a().string,gridSize:a().number.isRequired,start:a().array.isRequired,parts:a().array.isRequired};let g=JSON.parse('{"bottom_outside":{"start":[0,16.6],"parts":[[5.4,0],[3.4,3],[5.1,2],[11.5,3],[27.5,0],[11.5,1],[5.1,2],[3.4,1],[5.4,0]]},"bottom_inside":{"start":[0,17],"parts":[[5.7,0],[4.2,3],[5.1,2],[4.85,3],[2.1,0,2],[1,3,2],[2.1,2],[4.85,3],[26.9,0],[4.85,1],[2.1,2,2],[1,1,2],[2.1,0],[4.85,1],[5.1,2],[4.2,1],[5.7,0]]},"top_outside":{"start":[0,19.3],"parts":[[5.4,0],[3.4,1],[5.1,2],[9.8,1],[27.5,0],[9.8,3],[5.1,2],[3.4,3],[5.4,0]]},"top_inside":{"start":[0,18.9],"parts":[[5.7,0],[4.2,1],[5.1,2],[9,1],[12.9,0],[4,3,2],[1,0,2],[4,1],[12.9,0],[9,3],[5.1,2],[4.2,3],[5.7,0]]},"bl_corner":{"start":[3.3,11.1],"parts":[[2,0,2],[4,3,2],[1,2,2],[3,1,2],[2,2,2],[1,1,2],[1,0,2]]},"br_corner":{"start":[24.5,11.1],"parts":[[1,0,2],[1,3,2],[2,2,2],[3,3,2],[1,2,2],[4,1,2],[2,0,2]]},"bl_edge":{"start":[8.5,7],"parts":[[2,3,2],[3,0,2],[1,3,2],[9,2,2],[1,1,2],[5,0,2],[3,1,2],[1,0,2],[1,3,2]]},"br_edge":{"start":[20.5,7],"parts":[[2,3,2],[5,0,2],[1,3,2],[9,2,2],[1,1,2],[3,0,2],[3,1,2],[1,0,2],[1,3,2]]},"bc_edge":{"start":[14.5,8],"parts":[[3,0,2],[1,3,2],[3,2,2],[3,3,2],[1,2,2],[3,1,2],[3,2,2],[1,1,2],[4,0,2]]},"bml_edge":{"start":[9.5,11],"parts":[[2,0,2],[1,3,2],[4,2,2],[1,1,2],[2,0,2]]},"bmr_edge":{"start":[18.5,11],"parts":[[2,0,2],[1,3,2],[4,2,2],[1,1,2],[2,0,2]]},"bcc_edge":{"start":[14.5,14],"parts":[[3,0,2],[1,3,2],[3,2,2],[3,3,2],[1,2,2],[3,1,2],[3,2,2],[1,1,2],[4,0,2]]},"cl_edge":{"start":[8.5,16],"parts":[[3,3,2],[1,2,2],[4,1,2],[1,0,2],[1,3,2]]},"cr_edge":{"start":[20.5,16],"parts":[[3,3,2],[1,2,2],[4,1,2],[1,0,2],[1,3,2]]},"mh_outside":{"start":[15,20],"parts":[[2.5,0,100],[4,3,100],[7,2,100],[4,1,100],[2.5,0,100]]},"mh_inside":{"start":[15,19.6],"parts":[[2.1,0,100],[3.2,3,100],[6.2,2,100],[3.2,1,100],[2.1,0,100]]},"tl_edge":{"start":[8.5,25],"parts":[[2,3,2],[3,0,2],[1,3,2],[3,2,2],[3,3,2],[1,2,2],[7,1,2],[1,0,2],[1,3,2]]},"tr_edge":{"start":[19.5,25],"parts":[[2,3,2],[3,2,2],[1,3,2],[3,0,2],[3,3,2],[1,0,2],[7,1,2],[1,2,2],[1,3,2]]},"tc_edge":{"start":[14.5,26],"parts":[[3,0,2],[1,3,2],[3,2,2],[3,3,2],[1,2,2],[3,1,2],[3,2,2],[1,1,2],[4,0,2]]},"tfl_edge":{"start":[4.5,26],"parts":[[1,0,2],[1,3,2],[3,2,2],[1,1,2],[2,0,2]]},"tfr_edge":{"start":[24.5,26],"parts":[[1,0,2],[1,3,2],[3,2,2],[1,1,2],[2,0,2]]},"tfl_box":{"start":[4.5,30],"parts":[[1,0,2],[2,3,2],[3,2,2],[2,1,2],[2,0,2]]},"tl_box":{"start":[9.5,30],"parts":[[2,0,2],[2,3,2],[4,2,2],[2,1,2],[2,0,2]]},"tr_box":{"start":[18.5,30],"parts":[[2,0,2],[2,3,2],[4,2,2],[2,1,2],[2,0,2]]},"tfr_box":{"start":[24.5,30],"parts":[[1,0,2],[2,3,2],[3,2,2],[2,1,2],[2,0,2]]}}');function f(t){let e={strokeWidth:2,stroke:"#06f",fill:"none"},n=Object.keys(g).map(n=>{let r=g[n].parts.map(t=>{let[e,n,i]=t;return{distance:e,direction:n,radius:i}});return(0,i.jsx)(m,{...t,...e,start:g[n].start,parts:r},n)});return(0,i.jsx)("g",{className:"walls",children:n})}function x(t){let{gridSize:e}=t;return(0,i.jsx)("div",{className:"pacman-board",children:(0,i.jsx)("svg",{width:28*e,height:34*e,children:(0,i.jsx)(f,{...t})})})}function j(t,e){return{left:(t[0]+1.5)*e,top:(34-t[1]-3)*e}}function b(t){let{radius:e,offset:n,direction:r}=t,s=e*(1+.4*n),a=.7*e,o=.3*e,c=(-1)**((r<2)>>0),l=r%2;return(0,i.jsxs)("g",{className:"eye",children:[(0,i.jsx)("circle",{cx:s,cy:a,r:o,fill:"white"}),(0,i.jsx)("circle",{cx:s+o/2*(-(1-l)*c),cy:a+o/2*(l*c),r:o/2,fill:"black"})]})}function y(t){let{gridSize:e,eating:n}=t;if(!n)return null;let r=.125*e,s=.95*e,a=["M".concat(2*r,",").concat(s),"A".concat(r,",").concat(5*r," 0 0 1 ").concat(3*r,",").concat(s),"A".concat(r,",").concat(5*r," 0 0 0 ").concat(4*r,",").concat(s),"A".concat(r,",").concat(5*r," 0 0 1 ").concat(5*r,",").concat(s),"A".concat(r,",").concat(5*r," 0 0 0 ").concat(6*r,",").concat(s),"A".concat(r,",").concat(5*r," 0 0 1 ").concat(7*r,",").concat(s),"A".concat(r,",").concat(5*r," 0 0 0 ").concat(8*r,",").concat(s),"A".concat(r,",").concat(5*r," 0 0 1 ").concat(9*r,",").concat(s),"A".concat(r,",").concat(5*r," 0 0 0 ").concat(10*r,",").concat(s)].join(" ");return(0,i.jsx)("path",{d:a,stroke:"white",strokeWidth:1})}function w(t){let{gridSize:e,eating:n,eatingFlash:r,position:s,direction:a,color:o}=t,c=.75*e,l=function(t){let e=2*t,n=2*t,i=t/5;return["M".concat(t,",0"),"A".concat(t,",").concat(t," 0 0 1 ").concat(e,",").concat(t),"L".concat(e,",").concat(n-i),"A".concat(i,",").concat(i," 0 0 1 ").concat(e-2*i,",").concat(n-i),"A".concat(i,",").concat(i," 0 0 0 ").concat(e-4*i,",").concat(n-i),"A".concat(i,",").concat(i," 0 0 1 ").concat(e-6*i,",").concat(n-i),"A".concat(i,",").concat(i," 0 0 0 ").concat(e-8*i,",").concat(n-i),"A".concat(i,",").concat(i," 0 0 1 ").concat(e-10*i,",").concat(n-i),"L0,".concat(n-i),"L0,".concat(t),"A".concat(t,",").concat(t," 0 0 1 ").concat(t,",0")].join(" ")}(c),d={...j(s,e),width:2*c,height:2*c,marginLeft:-c,marginTop:-c};return(0,i.jsxs)("svg",{className:"pacman-monster",style:d,children:[(0,i.jsx)("path",{d:l,stroke:"none",fill:n?r?o:"#06c":o}),(0,i.jsx)(y,{gridSize:e,eating:n}),(0,i.jsx)(b,{radius:c,direction:a,offset:-1}),(0,i.jsx)(b,{radius:c,direction:a,offset:1})]})}x.propTypes={gridSize:a().number.isRequired},b.propTypes={radius:a().number.isRequired,offset:a().number.isRequired,direction:a().number.isRequired},y.propTypes={gridSize:a().number.isRequired,eating:a().bool.isRequired},w.propTypes={eating:a().bool.isRequired,eatingFlash:a().number,gridSize:a().number.isRequired,position:a().array.isRequired,color:a().string.isRequired,direction:a().number.isRequired};class v extends r.Component{getTimerFlash(){return(this.state&&clearInterval(this.state.timerFlash),this.props.eatingTime)?setInterval(()=>{this.setState({eatingFlash:(this.state.eatingFlash+1)%2})},300):null}componentDidUpdate(t){this.props.dead&&!t.dead&&this.props.router.push("/"+this.props.name),(this.props.eatingTime>0&&0===t.eatingTime||0===this.props.eatingTime&&t.eatingTime>0)&&this.setState({timerFlash:this.getTimerFlash()})}componentWillUnmount(){clearInterval(this.state.timerFlash)}render(){if(this.props.dead)return null;let{eatingTime:t,...e}=this.props;return(0,i.jsx)(w,{eating:t>0,...e,...this.state})}constructor(t){super(t),this.state={eatingFlash:0,timerFlash:this.getTimerFlash(),redirected:!1}}}v.propTypes={gridSize:a().number.isRequired,position:a().array.isRequired,direction:a().number.isRequired,color:a().string.isRequired,eatingTime:a().number.isRequired,dead:a().bool.isRequired};var k=n(4617),T=n.n(k);function R(t){let{gridSize:e,position:n,eaten:r,big:s}=t,a=T()("food",{eaten:r,big:s}),o=j(n,e);return(0,i.jsx)("span",{className:a,style:o})}function _(t){let{food:e,...n}=t,r=e.filter(t=>{let{eaten:e}=t;return!e}).map(t=>{let{key:e,...r}=t;return(0,i.jsx)(R,{...r,...n},e)});return(0,i.jsx)("div",{className:"food-all",children:r})}function N(t){let{gridSize:e,lost:n,position:s,direction:a,onEnd:o}=t,[c,l]=(0,r.useState)(1),[d,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let t;return n||(u(!1),t=setInterval(()=>{l(1+.5*Math.sin(Date.now()/50))},30)),()=>clearInterval(t)},[n]),(0,r.useEffect)(()=>{if(n){u(!0);let t=setInterval(()=>{l(e=>e>=2*Math.PI?(clearInterval(t),o&&setTimeout(o,500),e):e+.1)},30);return()=>clearInterval(t)}},[n,o]);let p=.8*e,h={...j(s,e),width:2*p,height:2*p,marginLeft:-p,marginTop:-p,opacity:d&&c>=2*Math.PI?0:1,transition:"opacity 0.5s ease-out"},m=n?1:a;return(0,i.jsx)("svg",{className:"pacman-player",style:h,children:(0,i.jsx)("path",{d:function(t,e,n){if(!e)return["M0,".concat(t),"A".concat(t,",").concat(t," 0 1 0 ").concat(2*t,",").concat(t),"A".concat(t,",").concat(t," 0 1 0 0,").concat(t)].join(" ");let i=t*Math.cos(e/2),r=t*Math.sin(e/2),s=(-1)**Math.floor(n/2),a=(n+1)%2*s,o=n%2*s,c=(e<Math.PI)>>0;return["M".concat(t,",").concat(t),"L".concat(t+(i*a-r*o),",").concat(t+(-i*o-r*a)),"A".concat(t,",").concat(t),"0 ".concat(c," 0"),"".concat(t+(i*a+r*o),",").concat(t+(-i*o+r*a)),"L".concat(t,",").concat(t)].join(" ")}(p,c,m),stroke:"none",fill:"#ffdf00"})})}R.propTypes={gridSize:a().number.isRequired,position:a().array.isRequired,eaten:a().bool.isRequired,big:a().bool.isRequired},_.propTypes={food:a().array.isRequired},N.propTypes={gridSize:a().number.isRequired,lost:a().bool.isRequired,position:a().array.isRequired,direction:a().number.isRequired,onEnd:a().func},n(5021);class S extends r.Component{componentDidMount(){window.addEventListener("keydown",this.onKey),window.addEventListener("resize",this.handleResize)}componentWillUnmount(){window.removeEventListener("keydown",this.onKey),window.addEventListener("resize",this.handleResize),clearTimeout(this.timers.animate),clearTimeout(this.timers.countdown)}calculateGridSize(){return Math.floor(Math.min(window.innerWidth,window.innerHeight)/43)}startCountdown(){let t=3;this.setState({countdown:t}),this.timers.countdown=setInterval(()=>{0==(t-=1)?(clearInterval(this.timers.countdown),this.setState({countdown:null,playing:!0,...o()},()=>{this.step()})):this.setState({countdown:t})},1e3)}step(){if(!this.state.playing)return;let t=function(t){var e,n;let{time:i=Date.now()}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(i-t.stepTime)/1e3;return t.lost?t:(e=function(t,e){let n=function(t,e){try{let{newPosition:n,movedDistance:i}=u(t.position,t.direction,5,e);if(t.nextDirection!==t.direction){let e=function(t,e,n,i,r){let{plane:s,order:a}=d(n),o=p(s,a,e,r);if(-1===o)return null;let l=t[s],u=e[s],h=Math.abs(o-e[s]);if(!(l===u&&h>r)){let{order:t,plane:n,polarity:a}=d(i),l=c[n][o];if(!l)return null;if(l.findIndex(i=>e[n]>=i[0]&&e[n]<=i[1]&&(1-t)*e[n]>=(i[0]-a)*(1-t)&&t*e[n]<=(i[1]-a)*t)>-1){let t=e.slice();return t[s]=o,t[n]+=a*(r-h),t}}return null}(t.position,n,t.direction,t.nextDirection,i);if(e)return{position:e,direction:t.nextDirection}}return{position:n}}catch(t){return{}}}(t.player,e),i=function(t,e,n){let{plane:i,polarity:r}=d(e.direction);return t.findIndex(t=>{let{position:s,eaten:a}=t;return!a&&s[1-i]===e.position[1-i]&&r*s[i]>=r*e.position[i]&&r*s[i]<=r*n[i]})}(t.food,t.player,n.position),r=t.food.slice();i>-1&&(r[i].eaten=!0);let s=i>-1&&r[i].big,a={...t,player:{...t.player,...n},food:r};return s?{...a,monsters:a.monsters.map(t=>({...t,eatingTime:5}))}:a}({...t,stepTime:i},r),n=t.player,e.monsters.reduce((t,e,i)=>(function(t,e,n,i,r){let{lost:s,...a}=function(t,e,n){let i=Math.max(0,t.eatingTime-n),r=t.position[0]>8&&t.position[0]<17&&t.position[1]>12&&t.position[1]<18,s=t.eatingTime?3:5;try{let{newPosition:a,collision:o,movedDistance:h}=u(t.position,t.direction,s,n,!r);if(r)return 0===t.direction&&t.position[0]<12.5&&a[0]>=12.5||2===t.direction&&t.position[0]>12.5&&a[0]<=12.5?{position:[12.5,a[1]],direction:1}:1===t.direction&&t.position[1]<18&&a[1]>=18?{position:[a[0],18],direction:!t.directionBias&&t.position[0]<e.position[0]?0:2}:{position:a};return{...function(t,e,n,i,r){let{order:s,plane:a}=d(i.direction),o=p(a,s,t,n);if(-1===o&&e)throw Error("Collided but nothing to track to");let{availableOptions:u,distanceFromTrack:h}=function(t){let{newPosition:e,collision:n,plane:i,trackTo:r,monster:s}=t,a=[],o=0;if(-1!==r&&c[1-i][r]){let t=c[1-i][r].find(t=>{let[n,r]=t;return e[1-i]>=n&&e[1-i]<=r}),n=[null,null];t[0]<e[1-i]&&(n[0]=0===i?3:2),t[1]>e[1-i]&&(n[1]=0===i?1:0),a=n.filter(t=>null!==t),o=Math.abs(e[i]-r)}return n||a.push(s.direction),{availableOptions:a,distanceFromTrack:o}}({newPosition:t,collision:e,plane:a,trackTo:o,monster:i});if(!u.length)return{position:t};let m=function(t){let{newPosition:e,plane:n,trackTo:i,distanceFromTrack:r,movedDistance:s,availableOptions:a,player:o,eating:c}=t;return a.map(t=>{let{polarity:a,plane:o}=d(t),c=null;n===o?c=e:((c=[])[o]=e[o]+Math.max(0,s-r)*a,c[1-o]=i);let l=[];return l[o]=e[o]+a,l[1-o]=c[1-o],{compare:l,position:c,direction:t}}).sort((t,e)=>{let{compare:n}=t,{compare:i}=e;return(-1)**(c>>0)*(l(n,o.position)-l(i,o.position))}).map(t=>{let{direction:e,position:n}=t;return{direction:e,position:n}})}({newPosition:t,plane:a,trackTo:o,distanceFromTrack:h,movedDistance:n,availableOptions:u,player:r,eating:i.eatingTime>0});return 1.4400000000000002>l(m[0].position,r.position)?i.eatingTime?{dead:!0}:{lost:!0}:m[0]}(a,o,h,t,e),eatingTime:i}}catch(t){return{}}}(i,n,e),o=t.monsters.slice();return(o[r]={...i,...a},s)?{...t,lost:!0}:{...t,monsters:o}})(t,r,n,e,i),e))}(this.state);this.setState(t),clearTimeout(this.timers.animate),this.timers.animate=setTimeout(()=>this.step(),20)}changeDirection(t){this.state.playing&&this.setState(function(t,e){let{direction:n}=e,i=d(t.player.direction),r=d(n);return i.plane===r.plane?{...t,player:{...t.player,direction:n,nextDirection:n}}:{...t,player:{...t.player,nextDirection:n}}}(this.state,{direction:t}))}render(){let{onEnd:t,...e}=this.props,n={gridSize:this.state.gridSize,...e};return(0,i.jsxs)("div",{className:"gameContainer",children:[(0,i.jsxs)("div",{className:"info",children:[!this.state.playing&&null===this.state.countdown&&(0,i.jsx)("p",{children:"Press any key to start!"}),null!==this.state.countdown&&(0,i.jsxs)("p",{children:["Starting in ",this.state.countdown,"..."]}),this.state.lost&&(0,i.jsx)("p",{children:"Game Over!"})]}),(0,i.jsxs)("div",{className:"pacman",children:[(0,i.jsx)(x,{...n}),(0,i.jsx)(_,{...n,food:this.state.food}),this.state.monsters.map(t=>{let{id:e,...r}=t;return(0,i.jsx)(v,{...n,...r},e)}),(0,i.jsx)(N,{...n,...this.state.player,lost:this.state.lost,onEnd:t})]})]})}constructor(t){super(t),this.handleResize=()=>{this.setState({gridSize:this.calculateGridSize()})},this.restart=()=>{clearTimeout(this.timers.animate),clearTimeout(this.timers.countdown),this.setState({playing:!1,countdown:null,...o()})},this.state={...o(),playing:!1,countdown:null,gridSize:this.calculateGridSize()},this.onKey=t=>{switch(this.state.playing||null!==this.state.countdown||this.startCountdown(),t.code){case"ArrowRight":case"KeyD":return this.changeDirection(0);case"ArrowUp":case"KeyW":return this.changeDirection(1);case"ArrowLeft":case"KeyA":return this.changeDirection(2);case"ArrowDown":case"KeyS":return this.changeDirection(3);default:return}},this.timers={animate:null,countdown:null}}}S.propTypes={gridSize:a().number.isRequired,onEnd:a().func};let q=(0,r.forwardRef)((t,e)=>(0,i.jsx)(S,{...t,ref:e}));q.propTypes={gridSize:a().number.isRequired,onEnd:a().func};var M=n(6046);function A(t){let e=(0,M.useRouter)(),n=(0,r.useRef)(null);return(0,i.jsxs)("div",{className:"gamePage",children:[(0,i.jsxs)("div",{className:"gameFrame",children:[(0,i.jsx)("div",{className:"top",children:(0,i.jsx)("img",{src:"/pakman.png",alt:"pacman"})}),(0,i.jsxs)("div",{className:"game",children:[(0,i.jsxs)("div",{className:"panel",children:[(0,i.jsxs)("div",{id:"pacmanText",children:[(0,i.jsx)("img",{src:"/pacman/pacman.png",alt:"pacman"}),(0,i.jsx)("p",{children:"Move me by using..."})]}),(0,i.jsx)("img",{className:"arrows",src:"/icons/arrowkeys.png",alt:"arrow"}),(0,i.jsx)("p",{children:"or"}),(0,i.jsx)("img",{className:"arrows",src:"/icons/wasd.png",alt:"arrow"})]}),(0,i.jsx)(q,{ref:n,...t,router:e}),(0,i.jsxs)("div",{className:"panel",children:[(0,i.jsx)("p",{id:"panelHeader",children:"Eat me to learn about my..."}),(0,i.jsxs)("button",{className:"ghost",onClick:()=>e.push("/bio"),children:[(0,i.jsx)("img",{src:"/pacman/red.png",alt:"red"}),(0,i.jsx)("p",{id:"red",children:"Bio"})]}),(0,i.jsxs)("button",{className:"ghost",onClick:()=>e.push("/experience"),children:[(0,i.jsx)("img",{src:"/pacman/pink.png",alt:"pink"}),(0,i.jsx)("p",{id:"pink",children:"Experience"})]}),(0,i.jsxs)("button",{className:"ghost",onClick:()=>e.push("/projects"),children:[(0,i.jsx)("img",{src:"/pacman/orange.png",alt:"orange"}),(0,i.jsx)("p",{id:"orange",children:"Projects"})]}),(0,i.jsxs)("button",{className:"ghost",onClick:()=>e.push("/music"),children:[(0,i.jsx)("img",{src:"/pacman/blue.png",alt:"blue"}),(0,i.jsx)("p",{id:"blue",children:"Music"})]}),(0,i.jsxs)("p",{id:"footer",children:["Don't want to play?",(0,i.jsx)("br",{}),"Feel free to just click the ghosts above to navigate."]})]})]})]}),(0,i.jsxs)("div",{className:"bottom",children:[(0,i.jsxs)("button",{id:"restart",onClick:()=>{var t;return null===(t=n.current)||void 0===t?void 0:t.restart()},children:[(0,i.jsx)("img",{src:"/buttons/wide_green.png",alt:"restart"}),(0,i.jsx)("p",{children:"RESTART"})]}),(0,i.jsxs)("div",{className:"right",children:[(0,i.jsx)("img",{id:"joystick",src:"/joystick.png",alt:"joystick"}),(0,i.jsxs)("div",{className:"buttons",children:[(0,i.jsx)("a",{href:"mailto:jaeyoung.pak8@gmail.com",target:"_blank",rel:"noopener noreferrer","aria-label":"email",children:(0,i.jsxs)("button",{children:[(0,i.jsx)("img",{className:"buttonImage",src:"/buttons/white.png"}),(0,i.jsx)("img",{className:"buttonIcon",src:"/icons/email.png"})]})}),(0,i.jsx)("a",{href:"https://www.linkedin.com/in/jason-j-pak",target:"_blank",rel:"noopener noreferrer","aria-label":"linkedin",children:(0,i.jsxs)("button",{children:[(0,i.jsx)("img",{className:"buttonImage",src:"/buttons/blue.png"}),(0,i.jsx)("p",{children:"in"})]})}),(0,i.jsx)("a",{href:"https://github.com/jasonpakk",target:"_blank",rel:"noopener noreferrer","aria-label":"github",children:(0,i.jsxs)("button",{children:[(0,i.jsx)("img",{className:"buttonImage",src:"/buttons/black.png"}),(0,i.jsx)("img",{className:"buttonIcon",src:"/icons/github.png"})]})}),(0,i.jsx)("a",{href:"https://drive.google.com/file/d/1SYXlT2gPGgJ6TZSmaoWf__ZdFXRMM-3R/view?usp=sharing",target:"_blank",rel:"noopener noreferrer","aria-label":"resume",children:(0,i.jsxs)("button",{children:[(0,i.jsx)("img",{className:"buttonImage",src:"/buttons/yellow.png"}),(0,i.jsx)("img",{className:"buttonIcon",src:"/icons/resume.png"})]})})]})]})]})]})}},6688:()=>{},5021:()=>{}},t=>{var e=e=>t(t.s=e);t.O(0,[712,155,441,517,358],()=>e(6585)),_N_E=t.O()}]);